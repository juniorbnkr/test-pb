-- MySQL Script generated by MySQL Workbench
-- seg 25 jan 2021 00:37:46 -03
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema pagbank
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema pagbank
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `pagbank` DEFAULT CHARACTER SET utf8 ;
USE `pagbank` ;

-- -----------------------------------------------------
-- Table `pagbank`.`tb_vendedor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`tb_vendedor` (
  `ID` INT NOT NULL,
  `nome` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pagbank`.`tb_cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`tb_cliente` (
  `ID` INT NOT NULL,
  `nome` VARCHAR(45) NULL,
  `tipo` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pagbank`.`tb_aplicacoes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`tb_aplicacoes` (
  `ID` INT NOT NULL,
  `nome` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pagbank`.`tb_transacoes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`tb_transacoes` (
  `ID` INT NOT NULL,
  `valor` DOUBLE NULL,
  `tb_vendedor_ID` INT NOT NULL,
  `tb_cliente_ID` INT NOT NULL,
  `tb_aplicacoes_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_tb_transacoes_tb_vendedor1_idx` (`tb_vendedor_ID` ASC),
  INDEX `fk_tb_transacoes_tb_cliente1_idx` (`tb_cliente_ID` ASC),
  INDEX `fk_tb_transacoes_tb_aplicacoes1_idx` (`tb_aplicacoes_ID` ASC),
  CONSTRAINT `fk_tb_transacoes_tb_vendedor1`
    FOREIGN KEY (`tb_vendedor_ID`)
    REFERENCES `pagbank`.`tb_vendedor` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_transacoes_tb_cliente1`
    FOREIGN KEY (`tb_cliente_ID`)
    REFERENCES `pagbank`.`tb_cliente` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_transacoes_tb_aplicacoes1`
    FOREIGN KEY (`tb_aplicacoes_ID`)
    REFERENCES `pagbank`.`tb_aplicacoes` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pagbank`.`transacao_timeline`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`transacao_timeline` (
  `ID` INT NOT NULL,
  `status` VARCHAR(45) NULL,
  `data` DATE NULL,
  `tb_transacoes_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_transacao_timeline_tb_transacoes1_idx` (`tb_transacoes_ID` ASC),
  CONSTRAINT `fk_transacao_timeline_tb_transacoes1`
    FOREIGN KEY (`tb_transacoes_ID`)
    REFERENCES `pagbank`.`tb_transacoes` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pagbank`.`vendedor_timeline`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`vendedor_timeline` (
  `ID` INT NOT NULL,
  `data` DATE NULL,
  `frente_comercial` VARCHAR(45) NULL,
  `tb_vendedor_ID` INT NOT NULL,
  `tb_cliente_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_vendedor_timeline_tb_vendedor1_idx` (`tb_vendedor_ID` ASC),
  INDEX `fk_vendedor_timeline_tb_cliente1_idx` (`tb_cliente_ID` ASC),
  CONSTRAINT `fk_vendedor_timeline_tb_vendedor1`
    FOREIGN KEY (`tb_vendedor_ID`)
    REFERENCES `pagbank`.`tb_vendedor` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_vendedor_timeline_tb_cliente1`
    FOREIGN KEY (`tb_cliente_ID`)
    REFERENCES `pagbank`.`tb_cliente` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pagbank`.`cliente_timeline`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pagbank`.`cliente_timeline` (
  `ID` INT NOT NULL,
  `endereco` VARCHAR(45) NULL,
  `data` DATE NULL,
  `estado` VARCHAR(2) NULL,
  `is_actual` INT NULL,
  `tb_cliente_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_cliente_timeline_tb_cliente1_idx` (`tb_cliente_ID` ASC),
  CONSTRAINT `fk_cliente_timeline_tb_cliente1`
    FOREIGN KEY (`tb_cliente_ID`)
    REFERENCES `pagbank`.`tb_cliente` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;



INSERT INTO `pagbank`.`tb_aplicacoes` (`ID`, `nome`) VALUES ('1', 'POS1');
INSERT INTO `pagbank`.`tb_aplicacoes` (`ID`, `nome`) VALUES ('2', 'POS2');
INSERT INTO `pagbank`.`tb_aplicacoes` (`ID`, `nome`) VALUES ('3', 'web_api');
INSERT INTO `pagbank`.`tb_aplicacoes` (`ID`, `nome`) VALUES ('4', 'web_checkout');
INSERT INTO `pagbank`.`tb_aplicacoes` (`ID`, `nome`) VALUES ('5', 'web_window');

INSERT INTO `pagbank`.`tb_cliente` (`ID`, `nome`, `tipo`) VALUES ('1', 'loja1', 'PF');
INSERT INTO `pagbank`.`tb_cliente` (`ID`, `nome`, `tipo`) VALUES ('2', 'loja2', 'PJ');
INSERT INTO `pagbank`.`tb_cliente` (`ID`, `nome`, `tipo`) VALUES ('3', 'loja3', 'PJ');

INSERT INTO `pagbank`.`tb_vendedor` (`ID`, `nome`) VALUES ('1', 'vendedor ');
INSERT INTO `pagbank`.`tb_vendedor` (`ID`, `nome`) VALUES ('2', 'vendedor2');


INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('1', '25', '1', '3', '1');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('2', '14.5', '1', '3', '2');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('3', '250', '2', '1', '5');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('4', '11.50', '2', '1', '5');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('5', '258', '1', '3', '5');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('6', '30.4', '2', '1', '3');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('7', '128.74', '1', '3', '4');
INSERT INTO `pagbank`.`tb_transacoes` (`ID`, `valor`, `tb_vendedor_ID`, `tb_cliente_ID`, `tb_aplicacoes_ID`) VALUES ('8', '10', '2', '1', '5');


INSERT INTO `pagbank`.`cliente_timeline` (`ID`, `endereco`, `data`, `tb_cliente_ID`, `estado`,`is_actual` ) VALUES ('1', 'Rua das nevez', '2019-10-10', '1', 'SP',0);
INSERT INTO `pagbank`.`cliente_timeline` (`ID`, `endereco`, `data`, `tb_cliente_ID`, `estado`, `is_actual`) VALUES ('2', 'Avenida do sol', '2019-12-15', '1', 'SP',1);
INSERT INTO `pagbank`.`cliente_timeline` (`ID`, `endereco`, `data`, `tb_cliente_ID`, `estado`, `is_actual`) VALUES ('3', 'Travessa dos ventos', '2019-12-25', '2','RJ',1);
INSERT INTO `pagbank`.`cliente_timeline` (`ID`, `endereco`, `data`, `tb_cliente_ID`, `estado`, `is_actual`) VALUES ('4', 'Avenida da terra', '2019-12-15', '3', 'SP',0);
INSERT INTO `pagbank`.`cliente_timeline` (`ID`, `endereco`, `data`, `tb_cliente_ID`, `estado`, `is_actual`) VALUES ('5', 'Travessa da noite', '2020-12-25', '3','RJ',1);




INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('1', 'criado', '2019-01-01', '1');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('2', 'aprovado', '2019-01-01', '1');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('3', 'criado', '2019-04-05', '2');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('4', 'em_analise', '2019-04-05', '2');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('5', 'negado', '2019-04-06', '2');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('6', 'criado', '2019-01-01', '3');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('7', 'aprovado', '2019-01-01', '3');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('8', 'criado', '2019-04-05', '4');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('9', 'aprovado', '2019-04-05', '4');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('10', 'criado', '2019-04-06', '5');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('11', 'aprovado', '2019-04-06', '5');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('12', 'criado', '2019-01-01', '6');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('13', 'aprovado', '2019-01-01', '6');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('14', 'criado', '2019-04-05', '7');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('15', 'aprovado', '2019-04-05', '7');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('16', 'criado', '2019-04-06', '8');
INSERT INTO `pagbank`.`transacao_timeline` (`ID`, `status`, `data`, `tb_transacoes_ID`) VALUES ('17', 'aprovado', '2019-04-06', '8');




INSERT INTO `pagbank`.`vendedor_timeline` (`ID`, `data`, `frente_comercial`, `tb_vendedor_ID`, `tb_cliente_ID`) VALUES ('1', '2020-01-01', 'geral', '2', '1');
INSERT INTO `pagbank`.`vendedor_timeline` (`ID`, `data`, `frente_comercial`, `tb_vendedor_ID`, `tb_cliente_ID`) VALUES ('2', '2020-01-05', 'gerente', '2', '1');
INSERT INTO `pagbank`.`vendedor_timeline` (`ID`, `data`, `frente_comercial`, `tb_vendedor_ID`, `tb_cliente_ID`) VALUES ('3', '2020-05-05', 'auxiliar', '1', '3');

